public abstract class org.apache.lucene.index.SegmentInfos$FindSegmentsFile extends java.lang.Object
{
    final org.apache.lucene.store.Directory directory;

    public void <init>(org.apache.lucene.store.Directory)
    {
        org.apache.lucene.index.SegmentInfos$FindSegmentsFile r0;
        org.apache.lucene.store.Directory r1;

        r0 := @this: org.apache.lucene.index.SegmentInfos$FindSegmentsFile;

        r1 := @parameter0: org.apache.lucene.store.Directory;

        specialinvoke r0.<java.lang.Object: void <init>()>();

        r0.<org.apache.lucene.index.SegmentInfos$FindSegmentsFile: org.apache.lucene.store.Directory directory> = r1;

        return;
    }

    public java.lang.Object run() throws java.io.IOException
    {
        java.lang.Object $r1;
        org.apache.lucene.index.SegmentInfos$FindSegmentsFile r0;

        r0 := @this: org.apache.lucene.index.SegmentInfos$FindSegmentsFile;

        $r1 = virtualinvoke r0.<org.apache.lucene.index.SegmentInfos$FindSegmentsFile: java.lang.Object run(org.apache.lucene.index.IndexCommit)>(null);

        return $r1;
    }

    public java.lang.Object run(org.apache.lucene.index.IndexCommit) throws java.io.IOException
    {
        org.apache.lucene.index.IndexNotFoundException $r109;
        byte $b0, $b2, $b4, $b8, $b9;
        org.apache.lucene.store.IOContext $r14;
        java.lang.StringBuilder $r3, $r4, $r8, $r9, $r18, $r20, $r21, $r23, $r26, $r27, $r32, $r33, $r34, $r35, $r38, $r39, $r49, $r50, $r51, $r52, $r53, $r63, $r64, $r67, $r68, $r69, $r72, $r73, $r74, $r75, $r76, $r77, $r78, $r79, $r86, $r87, $r92, $r93, $r102, $r103, $r104, $r105, $r107, $r108, $r110, $r111, $r112, $r113, $r114, $r115;
        long $l3, $l6, $l7, $l10, l11, l12, l15, l16;
        org.apache.lucene.store.IndexInput r96;
        java.io.IOException $r46, $r55, $r82, $r83, r95, $r101;
        org.apache.lucene.index.SegmentInfos$FindSegmentsFile r1;
        int $i1, $i5, i13, i14, $i18, $i20, $i22, $i23;
        java.io.PrintStream $r6, $r13, $r30, $r47, $r56, $r59, $r61, $r84, $r90, $r97, $r100;
        java.lang.Object $r44, $r60, $r99;
        org.apache.lucene.index.IndexFormatTooNewException $r106;
        org.apache.lucene.index.IndexCommit r0;
        java.lang.Throwable $r81;
        java.lang.String $r5, $r10, $r22, $r24, $r28, $r36, $r40, $r43, $r54, $r57, $r65, $r70, $r80, $r88, $r94, $r98;
        org.apache.lucene.store.Directory $r11, $r15, $r19, $r41, $r42, $r58;
        boolean $z0, $z1, z2, z3, z4, z5, z6;
        java.io.FileNotFoundException $r89;
        java.lang.String[] $r12;

        r1 := @this: org.apache.lucene.index.SegmentInfos$FindSegmentsFile;

        r0 := @parameter0: org.apache.lucene.index.IndexCommit;

        if r0 == null goto label02;

        $r41 = r1.<org.apache.lucene.index.SegmentInfos$FindSegmentsFile: org.apache.lucene.store.Directory directory>;

        $r42 = virtualinvoke r0.<org.apache.lucene.index.IndexCommit: org.apache.lucene.store.Directory getDirectory()>();

        if $r41 == $r42 goto label01;

        $r101 = new java.io.IOException;

        specialinvoke $r101.<java.io.IOException: void <init>(java.lang.String)>("the specified commit does not match the specified Directory");

        throw $r101;

     label01:
        $r43 = virtualinvoke r0.<org.apache.lucene.index.IndexCommit: java.lang.String getSegmentsFileName()>();

        $r44 = virtualinvoke r1.<org.apache.lucene.index.SegmentInfos$FindSegmentsFile: java.lang.Object doBody(java.lang.String)>($r43);

        return $r44;

     label02:
        l11 = -1L;

        l12 = 0L;

        i13 = 0;

        r95 = null;

        i14 = 0;

        z2 = 1;

        z6 = 1;

        z5 = 1;

        z4 = 1;

        z3 = 1;

     label03:
        if z3 == 0 goto label23;

        l15 = -1L;

        $r11 = r1.<org.apache.lucene.index.SegmentInfos$FindSegmentsFile: org.apache.lucene.store.Directory directory>;

        $r12 = virtualinvoke $r11.<org.apache.lucene.store.Directory: java.lang.String[] listAll()>();

        if $r12 == null goto label04;

        l15 = staticinvoke <org.apache.lucene.index.SegmentInfos: long getLastCommitGeneration(java.lang.String[])>($r12);

     label04:
        $r13 = staticinvoke <org.apache.lucene.index.SegmentInfos: java.io.PrintStream access$000()>();

        if $r13 == null goto label05;

        $r102 = new java.lang.StringBuilder;

        specialinvoke $r102.<java.lang.StringBuilder: void <init>()>();

        $r38 = virtualinvoke $r102.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>("directory listing genA=");

        $r39 = virtualinvoke $r38.<java.lang.StringBuilder: java.lang.StringBuilder append(long)>(l15);

        $r40 = virtualinvoke $r39.<java.lang.StringBuilder: java.lang.String toString()>();

        staticinvoke <org.apache.lucene.index.SegmentInfos: void access$100(java.lang.String)>($r40);

     label05:
        l16 = -1L;

        r96 = null;

     label06:
        $r15 = r1.<org.apache.lucene.index.SegmentInfos$FindSegmentsFile: org.apache.lucene.store.Directory directory>;

        $r14 = <org.apache.lucene.store.IOContext: org.apache.lucene.store.IOContext READONCE>;

        r96 = virtualinvoke $r15.<org.apache.lucene.store.Directory: org.apache.lucene.store.IndexInput openInput(java.lang.String,org.apache.lucene.store.IOContext)>("segments.gen", $r14);

     label07:
        goto label11;

     label08:
        $r89 := @caughtexception;

        $r90 = staticinvoke <org.apache.lucene.index.SegmentInfos: java.io.PrintStream access$000()>();

        if $r90 == null goto label09;

        $r103 = new java.lang.StringBuilder;

        specialinvoke $r103.<java.lang.StringBuilder: void <init>()>();

        $r92 = virtualinvoke $r103.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>("segments.gen open: FileNotFoundException ");

        $r93 = virtualinvoke $r92.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.Object)>($r89);

        $r94 = virtualinvoke $r93.<java.lang.StringBuilder: java.lang.String toString()>();

        staticinvoke <org.apache.lucene.index.SegmentInfos: void access$100(java.lang.String)>($r94);

     label09:
        goto label11;

     label10:
        $r83 := @caughtexception;

        $r84 = staticinvoke <org.apache.lucene.index.SegmentInfos: java.io.PrintStream access$000()>();

        if $r84 == null goto label11;

        $r104 = new java.lang.StringBuilder;

        specialinvoke $r104.<java.lang.StringBuilder: void <init>()>();

        $r86 = virtualinvoke $r104.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>("segments.gen open: IOException ");

        $r87 = virtualinvoke $r86.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.Object)>($r83);

        $r88 = virtualinvoke $r87.<java.lang.StringBuilder: java.lang.String toString()>();

        staticinvoke <org.apache.lucene.index.SegmentInfos: void access$100(java.lang.String)>($r88);

     label11:
        if r96 == null goto label21;

     label12:
        $i5 = virtualinvoke r96.<org.apache.lucene.store.IndexInput: int readInt()>();

        $i18 = (int) -2;

        if $i5 != $i18 goto label15;

        $l6 = virtualinvoke r96.<org.apache.lucene.store.IndexInput: long readLong()>();

        $l7 = virtualinvoke r96.<org.apache.lucene.store.IndexInput: long readLong()>();

        $r30 = staticinvoke <org.apache.lucene.index.SegmentInfos: java.io.PrintStream access$000()>();

        if $r30 == null goto label13;

        $r105 = new java.lang.StringBuilder;

        specialinvoke $r105.<java.lang.StringBuilder: void <init>()>();

        $r32 = virtualinvoke $r105.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>("fallback check: ");

        $r33 = virtualinvoke $r32.<java.lang.StringBuilder: java.lang.StringBuilder append(long)>($l6);

        $r34 = virtualinvoke $r33.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>("; ");

        $r35 = virtualinvoke $r34.<java.lang.StringBuilder: java.lang.StringBuilder append(long)>($l7);

        $r36 = virtualinvoke $r35.<java.lang.StringBuilder: java.lang.String toString()>();

        staticinvoke <org.apache.lucene.index.SegmentInfos: void access$100(java.lang.String)>($r36);

     label13:
        $b8 = $l6 cmp $l7;

        if $b8 != 0 goto label14;

        l16 = $l6;

     label14:
        goto label16;

     label15:
        $r106 = new org.apache.lucene.index.IndexFormatTooNewException;

        $i20 = (int) -2;

        $i22 = (int) -2;

        specialinvoke $r106.<org.apache.lucene.index.IndexFormatTooNewException: void <init>(org.apache.lucene.store.DataInput,int,int,int)>(r96, $i5, $i20, $i22);

        throw $r106;

     label16:
        virtualinvoke r96.<org.apache.lucene.store.IndexInput: void close()>();

        goto label21;

     label17:
        $r82 := @caughtexception;

        $z1 = $r82 instanceof org.apache.lucene.index.CorruptIndexException;

        if $z1 == 0 goto label18;

        throw $r82;

     label18:
        virtualinvoke r96.<org.apache.lucene.store.IndexInput: void close()>();

        goto label21;

     label19:
        $r81 := @caughtexception;

     label20:
        virtualinvoke r96.<org.apache.lucene.store.IndexInput: void close()>();

        throw $r81;

     label21:
        $r97 = staticinvoke <org.apache.lucene.index.SegmentInfos: java.io.PrintStream access$000()>();

        if $r97 == null goto label22;

        $r107 = new java.lang.StringBuilder;

        specialinvoke $r107.<java.lang.StringBuilder: void <init>()>();

        $r26 = virtualinvoke $r107.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>("segments.gen check: genB=");

        $r27 = virtualinvoke $r26.<java.lang.StringBuilder: java.lang.StringBuilder append(long)>(l16);

        $r28 = virtualinvoke $r27.<java.lang.StringBuilder: java.lang.String toString()>();

        staticinvoke <org.apache.lucene.index.SegmentInfos: void access$100(java.lang.String)>($r28);

     label22:
        $l3 = staticinvoke <java.lang.Math: long max(long,long)>(l15, l16);

        l12 = $l3;

        $b4 = $l3 cmp -1L;

        if $b4 != 0 goto label23;

        $r109 = new org.apache.lucene.index.IndexNotFoundException;

        $r108 = new java.lang.StringBuilder;

        specialinvoke $r108.<java.lang.StringBuilder: void <init>()>();

        $r18 = virtualinvoke $r108.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>("no segments* file found in ");

        $r19 = r1.<org.apache.lucene.index.SegmentInfos$FindSegmentsFile: org.apache.lucene.store.Directory directory>;

        $r20 = virtualinvoke $r18.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.Object)>($r19);

        $r21 = virtualinvoke $r20.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>(": files: ");

        $r22 = staticinvoke <java.util.Arrays: java.lang.String toString(java.lang.Object[])>($r12);

        $r23 = virtualinvoke $r21.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>($r22);

        $r24 = virtualinvoke $r23.<java.lang.StringBuilder: java.lang.String toString()>();

        specialinvoke $r109.<org.apache.lucene.index.IndexNotFoundException: void <init>(java.lang.String)>($r24);

        throw $r109;

     label23:
        if z6 == 0 goto label24;

        $b2 = l11 cmp l12;

        if $b2 != 0 goto label24;

        if i14 < 2 goto label24;

        z2 = 0;

        z6 = 0;

        z5 = 0;

        z4 = 0;

        z3 = 0;

     label24:
        if z4 != 0 goto label26;

        $i1 = staticinvoke <org.apache.lucene.index.SegmentInfos: int access$200()>();

        if i13 >= $i1 goto label25;

        l12 = l12 + 1L;

        i13 = i13 + 1;

        $r6 = staticinvoke <org.apache.lucene.index.SegmentInfos: java.io.PrintStream access$000()>();

        if $r6 == null goto label28;

        $r110 = new java.lang.StringBuilder;

        specialinvoke $r110.<java.lang.StringBuilder: void <init>()>();

        $r8 = virtualinvoke $r110.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>("look ahead increment gen to ");

        $r9 = virtualinvoke $r8.<java.lang.StringBuilder: java.lang.StringBuilder append(long)>(l12);

        $r10 = virtualinvoke $r9.<java.lang.StringBuilder: java.lang.String toString()>();

        staticinvoke <org.apache.lucene.index.SegmentInfos: void access$100(java.lang.String)>($r10);

        goto label28;

     label25:
        throw r95;

     label26:
        $b0 = l11 cmp l12;

        if $b0 != 0 goto label27;

        i14 = i14 + 1;

        goto label28;

     label27:
        i14 = 0;

     label28:
        l11 = l12;

        $r98 = staticinvoke <org.apache.lucene.index.IndexFileNames: java.lang.String fileNameFromGeneration(java.lang.String,java.lang.String,long)>("segments", "", l12);

     label29:
        $r99 = virtualinvoke r1.<org.apache.lucene.index.SegmentInfos$FindSegmentsFile: java.lang.Object doBody(java.lang.String)>($r98);

        $r100 = staticinvoke <org.apache.lucene.index.SegmentInfos: java.io.PrintStream access$000()>();

        if $r100 == null goto label30;

        $r111 = new java.lang.StringBuilder;

        specialinvoke $r111.<java.lang.StringBuilder: void <init>()>();

        $r3 = virtualinvoke $r111.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>("success on ");

        $r4 = virtualinvoke $r3.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>($r98);

        $r5 = virtualinvoke $r4.<java.lang.StringBuilder: java.lang.String toString()>();

        staticinvoke <org.apache.lucene.index.SegmentInfos: void access$100(java.lang.String)>($r5);

     label30:
        return $r99;

     label31:
        $r55 := @caughtexception;

        if r95 != null goto label32;

        r95 = $r55;

     label32:
        $r56 = staticinvoke <org.apache.lucene.index.SegmentInfos: java.io.PrintStream access$000()>();

        if $r56 == null goto label33;

        $r112 = new java.lang.StringBuilder;

        specialinvoke $r112.<java.lang.StringBuilder: void <init>()>();

        $r72 = virtualinvoke $r112.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>("primary Exception on \'");

        $r73 = virtualinvoke $r72.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>($r98);

        $r74 = virtualinvoke $r73.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>("\': ");

        $r75 = virtualinvoke $r74.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.Object)>($r55);

        $r76 = virtualinvoke $r75.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>("\'; will retry: retryCount=");

        $r77 = virtualinvoke $r76.<java.lang.StringBuilder: java.lang.StringBuilder append(int)>(i14);

        $r78 = virtualinvoke $r77.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>("; gen = ");

        $r79 = virtualinvoke $r78.<java.lang.StringBuilder: java.lang.StringBuilder append(long)>(l12);

        $r80 = virtualinvoke $r79.<java.lang.StringBuilder: java.lang.String toString()>();

        staticinvoke <org.apache.lucene.index.SegmentInfos: void access$100(java.lang.String)>($r80);

     label33:
        $b9 = l12 cmp 1L;

        $i23 = (int) $b9;

        if $i23 <= 0 goto label37;

        if z5 == 0 goto label37;

        if i14 != 1 goto label37;

        $l10 = l12 - 1L;

        $r57 = staticinvoke <org.apache.lucene.index.IndexFileNames: java.lang.String fileNameFromGeneration(java.lang.String,java.lang.String,long)>("segments", "", $l10);

        $r58 = r1.<org.apache.lucene.index.SegmentInfos$FindSegmentsFile: org.apache.lucene.store.Directory directory>;

        $z0 = virtualinvoke $r58.<org.apache.lucene.store.Directory: boolean fileExists(java.lang.String)>($r57);

        if $z0 == 0 goto label37;

        $r59 = staticinvoke <org.apache.lucene.index.SegmentInfos: java.io.PrintStream access$000()>();

        if $r59 == null goto label34;

        $r113 = new java.lang.StringBuilder;

        specialinvoke $r113.<java.lang.StringBuilder: void <init>()>();

        $r67 = virtualinvoke $r113.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>("fallback to prior segment file \'");

        $r68 = virtualinvoke $r67.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>($r57);

        $r69 = virtualinvoke $r68.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>("\'");

        $r70 = virtualinvoke $r69.<java.lang.StringBuilder: java.lang.String toString()>();

        staticinvoke <org.apache.lucene.index.SegmentInfos: void access$100(java.lang.String)>($r70);

     label34:
        $r60 = virtualinvoke r1.<org.apache.lucene.index.SegmentInfos$FindSegmentsFile: java.lang.Object doBody(java.lang.String)>($r57);

        $r61 = staticinvoke <org.apache.lucene.index.SegmentInfos: java.io.PrintStream access$000()>();

        if $r61 == null goto label35;

        $r114 = new java.lang.StringBuilder;

        specialinvoke $r114.<java.lang.StringBuilder: void <init>()>();

        $r63 = virtualinvoke $r114.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>("success on fallback ");

        $r64 = virtualinvoke $r63.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>($r57);

        $r65 = virtualinvoke $r64.<java.lang.StringBuilder: java.lang.String toString()>();

        staticinvoke <org.apache.lucene.index.SegmentInfos: void access$100(java.lang.String)>($r65);

     label35:
        return $r60;

     label36:
        $r46 := @caughtexception;

        $r47 = staticinvoke <org.apache.lucene.index.SegmentInfos: java.io.PrintStream access$000()>();

        if $r47 == null goto label37;

        $r115 = new java.lang.StringBuilder;

        specialinvoke $r115.<java.lang.StringBuilder: void <init>()>();

        $r49 = virtualinvoke $r115.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>("secondary Exception on \'");

        $r50 = virtualinvoke $r49.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>($r57);

        $r51 = virtualinvoke $r50.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>("\': ");

        $r52 = virtualinvoke $r51.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.Object)>($r46);

        $r53 = virtualinvoke $r52.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>("\'; will retry");

        $r54 = virtualinvoke $r53.<java.lang.StringBuilder: java.lang.String toString()>();

        staticinvoke <org.apache.lucene.index.SegmentInfos: void access$100(java.lang.String)>($r54);

     label37:
        goto label03;

        catch java.io.FileNotFoundException from label06 to label07 with label08;
        catch java.io.IOException from label06 to label07 with label10;
        catch java.io.IOException from label12 to label16 with label17;
        catch java.lang.Throwable from label12 to label16 with label19;
        catch java.lang.Throwable from label17 to label18 with label19;
        catch java.lang.Throwable from label19 to label20 with label19;
        catch java.io.IOException from label29 to label30 with label31;
        catch java.io.IOException from label34 to label35 with label36;
    }

    protected abstract java.lang.Object doBody(java.lang.String) throws java.io.IOException;
}
