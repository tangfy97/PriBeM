public abstract class javax.mail.Transport extends javax.mail.Service
{
    private java.util.Vector transportListeners;

    public static void send(javax.mail.Message) throws javax.mail.MessagingException
    {
        javax.mail.Message r0;
        javax.mail.Address[] $r1;

        r0 := @parameter0: javax.mail.Message;

        $r1 = virtualinvoke r0.<javax.mail.Message: javax.mail.Address[] getAllRecipients()>();

        staticinvoke <javax.mail.Transport: void send(javax.mail.Message,javax.mail.Address[])>(r0, $r1);

        return;
    }

    public static void send(javax.mail.Message, javax.mail.Address[]) throws javax.mail.MessagingException
    {
        javax.mail.Message r0;
        javax.mail.MessagingException $r34, r44;
        javax.mail.SendFailedException $r18, $r35;
        boolean $z0, $z1;
        javax.mail.Transport $r30, r46;
        java.util.Set $r7;
        java.util.List r25, r43;
        java.lang.Throwable $r33;
        javax.mail.Address $r39, $r40, $r41, r42;
        java.lang.Object[] $r10, $r13, $r16, $r27;
        java.util.HashMap $r2;
        java.util.ArrayList $r4, $r5, $r6, $r32;
        javax.mail.Address[] r3, $r9, $r11, $r12, $r14, $r15, $r17, $r19, $r20, $r21, $r26, $r28, $r29, $r36, $r37, $r38;
        int $i0, $i1, $i2, $i3, $i4, $i5, i6, i7, i8, i9;
        java.util.Map$Entry r45;
        java.util.Iterator $r8;
        javax.mail.Session r1;
        java.lang.Object $r22, $r23, $r24, $r31;

        r0 := @parameter0: javax.mail.Message;

        r3 := @parameter1: javax.mail.Address[];

        r1 = r0.<javax.mail.Message: javax.mail.Session session>;

        $r2 = new java.util.HashMap;

        specialinvoke $r2.<java.util.HashMap: void <init>()>();

        i6 = 0;

     label01:
        $i0 = lengthof r3;

        if i6 >= $i0 goto label03;

        r42 = r3[i6];

        $r30 = virtualinvoke r1.<javax.mail.Session: javax.mail.Transport getTransport(javax.mail.Address)>(r42);

        $r31 = interfaceinvoke $r2.<java.util.Map: java.lang.Object get(java.lang.Object)>($r30);

        r43 = (java.util.List) $r31;

        if r43 != null goto label02;

        $r32 = new java.util.ArrayList;

        specialinvoke $r32.<java.util.ArrayList: void <init>()>();

        r43 = $r32;

        interfaceinvoke $r2.<java.util.Map: java.lang.Object put(java.lang.Object,java.lang.Object)>($r30, $r32);

     label02:
        interfaceinvoke r43.<java.util.List: boolean add(java.lang.Object)>(r42);

        i6 = i6 + 1;

        goto label01;

     label03:
        virtualinvoke r0.<javax.mail.Message: void saveChanges()>();

        r44 = null;

        $r4 = new java.util.ArrayList;

        specialinvoke $r4.<java.util.ArrayList: void <init>()>();

        $r5 = new java.util.ArrayList;

        specialinvoke $r5.<java.util.ArrayList: void <init>()>();

        $r6 = new java.util.ArrayList;

        specialinvoke $r6.<java.util.ArrayList: void <init>()>();

        $r7 = interfaceinvoke $r2.<java.util.Map: java.util.Set entrySet()>();

        $r8 = interfaceinvoke $r7.<java.util.Set: java.util.Iterator iterator()>();

     label04:
        $z0 = interfaceinvoke $r8.<java.util.Iterator: boolean hasNext()>();

        if $z0 == 0 goto label22;

        $r22 = interfaceinvoke $r8.<java.util.Iterator: java.lang.Object next()>();

        r45 = (java.util.Map$Entry) $r22;

        $r23 = interfaceinvoke r45.<java.util.Map$Entry: java.lang.Object getKey()>();

        r46 = (javax.mail.Transport) $r23;

        $r24 = interfaceinvoke r45.<java.util.Map$Entry: java.lang.Object getValue()>();

        r25 = (java.util.List) $r24;

     label05:
        virtualinvoke r46.<javax.mail.Transport: void connect()>();

        $i2 = interfaceinvoke r25.<java.util.List: int size()>();

        $r26 = newarray (javax.mail.Address)[$i2];

        $r27 = interfaceinvoke r25.<java.util.List: java.lang.Object[] toArray(java.lang.Object[])>($r26);

        $r28 = (javax.mail.Address[]) $r27;

        $r29 = (javax.mail.Address[]) $r28;

        virtualinvoke r46.<javax.mail.Transport: void sendMessage(javax.mail.Message,javax.mail.Address[])>(r0, $r29);

        virtualinvoke $r4.<java.util.ArrayList: boolean addAll(java.util.Collection)>(r25);

     label06:
        virtualinvoke r46.<javax.mail.Transport: void close()>();

        goto label21;

     label07:
        $r35 := @caughtexception;

        if r44 != null goto label08;

        r44 = $r35;

        goto label09;

     label08:
        virtualinvoke r44.<javax.mail.MessagingException: boolean setNextException(java.lang.Exception)>($r35);

     label09:
        $r36 = virtualinvoke $r35.<javax.mail.SendFailedException: javax.mail.Address[] getValidSentAddresses()>();

        if $r36 == null goto label11;

        i7 = 0;

     label10:
        $i5 = lengthof $r36;

        if i7 >= $i5 goto label11;

        $r41 = $r36[i7];

        virtualinvoke $r4.<java.util.ArrayList: boolean add(java.lang.Object)>($r41);

        i7 = i7 + 1;

        goto label10;

     label11:
        $r37 = virtualinvoke $r35.<javax.mail.SendFailedException: javax.mail.Address[] getValidUnsentAddresses()>();

        if $r37 == null goto label13;

        i8 = 0;

     label12:
        $i4 = lengthof $r37;

        if i8 >= $i4 goto label13;

        $r40 = $r37[i8];

        virtualinvoke $r5.<java.util.ArrayList: boolean add(java.lang.Object)>($r40);

        i8 = i8 + 1;

        goto label12;

     label13:
        $r38 = virtualinvoke $r35.<javax.mail.SendFailedException: javax.mail.Address[] getInvalidAddresses()>();

        if $r38 == null goto label15;

        i9 = 0;

     label14:
        $i3 = lengthof $r38;

        if i9 >= $i3 goto label15;

        $r39 = $r38[i9];

        virtualinvoke $r6.<java.util.ArrayList: boolean add(java.lang.Object)>($r39);

        i9 = i9 + 1;

        goto label14;

     label15:
        virtualinvoke r46.<javax.mail.Transport: void close()>();

        goto label21;

     label16:
        $r34 := @caughtexception;

        if r44 != null goto label17;

        r44 = $r34;

        goto label18;

     label17:
        virtualinvoke r44.<javax.mail.MessagingException: boolean setNextException(java.lang.Exception)>($r34);

     label18:
        virtualinvoke r46.<javax.mail.Transport: void close()>();

        goto label21;

     label19:
        $r33 := @caughtexception;

     label20:
        virtualinvoke r46.<javax.mail.Transport: void close()>();

        throw $r33;

     label21:
        goto label04;

     label22:
        if r44 == null goto label24;

        $i1 = interfaceinvoke $r2.<java.util.Map: int size()>();

        if $i1 != 1 goto label23;

        $z1 = r44 instanceof javax.mail.SendFailedException;

        if $z1 == 0 goto label23;

        throw r44;

     label23:
        $r9 = newarray (javax.mail.Address)[0];

        $r10 = virtualinvoke $r4.<java.util.ArrayList: java.lang.Object[] toArray(java.lang.Object[])>($r9);

        $r11 = (javax.mail.Address[]) $r10;

        $r19 = (javax.mail.Address[]) $r11;

        $r12 = newarray (javax.mail.Address)[0];

        $r13 = virtualinvoke $r5.<java.util.ArrayList: java.lang.Object[] toArray(java.lang.Object[])>($r12);

        $r14 = (javax.mail.Address[]) $r13;

        $r20 = (javax.mail.Address[]) $r14;

        $r15 = newarray (javax.mail.Address)[0];

        $r16 = virtualinvoke $r6.<java.util.ArrayList: java.lang.Object[] toArray(java.lang.Object[])>($r15);

        $r17 = (javax.mail.Address[]) $r16;

        $r21 = (javax.mail.Address[]) $r17;

        $r18 = new javax.mail.SendFailedException;

        specialinvoke $r18.<javax.mail.SendFailedException: void <init>(java.lang.String,java.lang.Exception,javax.mail.Address[],javax.mail.Address[],javax.mail.Address[])>("Send failure", r44, $r19, $r20, $r21);

        throw $r18;

     label24:
        return;

        catch javax.mail.SendFailedException from label05 to label06 with label07;
        catch javax.mail.MessagingException from label05 to label06 with label16;
        catch java.lang.Throwable from label05 to label06 with label19;
        catch java.lang.Throwable from label07 to label15 with label19;
        catch java.lang.Throwable from label16 to label18 with label19;
        catch java.lang.Throwable from label19 to label20 with label19;
    }

    public void <init>(javax.mail.Session, javax.mail.URLName)
    {
        javax.mail.URLName r2;
        java.util.Vector $r3;
        javax.mail.Transport r0;
        javax.mail.Session r1;

        r0 := @this: javax.mail.Transport;

        r1 := @parameter0: javax.mail.Session;

        r2 := @parameter1: javax.mail.URLName;

        specialinvoke r0.<javax.mail.Service: void <init>(javax.mail.Session,javax.mail.URLName)>(r1, r2);

        $r3 = new java.util.Vector;

        specialinvoke $r3.<java.util.Vector: void <init>()>();

        r0.<javax.mail.Transport: java.util.Vector transportListeners> = $r3;

        return;
    }

    public abstract void sendMessage(javax.mail.Message, javax.mail.Address[]) throws javax.mail.MessagingException;

    public void addTransportListener(javax.mail.event.TransportListener)
    {
        java.util.Vector $r2;
        javax.mail.Transport r0;
        javax.mail.event.TransportListener r1;

        r0 := @this: javax.mail.Transport;

        r1 := @parameter0: javax.mail.event.TransportListener;

        $r2 = r0.<javax.mail.Transport: java.util.Vector transportListeners>;

        virtualinvoke $r2.<java.util.Vector: boolean add(java.lang.Object)>(r1);

        return;
    }

    public void removeTransportListener(javax.mail.event.TransportListener)
    {
        java.util.Vector $r2;
        javax.mail.Transport r0;
        javax.mail.event.TransportListener r1;

        r0 := @this: javax.mail.Transport;

        r1 := @parameter0: javax.mail.event.TransportListener;

        $r2 = r0.<javax.mail.Transport: java.util.Vector transportListeners>;

        virtualinvoke $r2.<java.util.Vector: boolean remove(java.lang.Object)>(r1);

        return;
    }

    protected void notifyTransportListeners(int, javax.mail.Address[], javax.mail.Address[], javax.mail.Address[], javax.mail.Message)
    {
        javax.mail.Message r5;
        javax.mail.Transport r0;
        java.util.Vector $r6;
        javax.mail.Address[] r2, r3, r4;
        int i0;
        javax.mail.event.TransportEvent $r1;

        r0 := @this: javax.mail.Transport;

        i0 := @parameter0: int;

        r2 := @parameter1: javax.mail.Address[];

        r3 := @parameter2: javax.mail.Address[];

        r4 := @parameter3: javax.mail.Address[];

        r5 := @parameter4: javax.mail.Message;

        $r1 = new javax.mail.event.TransportEvent;

        specialinvoke $r1.<javax.mail.event.TransportEvent: void <init>(javax.mail.Transport,int,javax.mail.Address[],javax.mail.Address[],javax.mail.Address[],javax.mail.Message)>(r0, i0, r2, r3, r4, r5);

        $r6 = r0.<javax.mail.Transport: java.util.Vector transportListeners>;

        virtualinvoke r0.<javax.mail.Transport: void queueEvent(javax.mail.event.MailEvent,java.util.Vector)>($r1, $r6);

        return;
    }
}
