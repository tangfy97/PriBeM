public class com.drew.metadata.photoshop.PhotoshopReader extends java.lang.Object implements com.drew.metadata.MetadataReader
{

    public void <init>()
    {
        com.drew.metadata.photoshop.PhotoshopReader r0;

        r0 := @this: com.drew.metadata.photoshop.PhotoshopReader;

        specialinvoke r0.<java.lang.Object: void <init>()>();

        return;
    }

    public void extract(com.drew.lang.BufferReader, com.drew.metadata.Metadata)
    {
        byte[] $r5;
        java.lang.Integer $r7, $r9;
        byte $b2, $b8, $b15;
        com.drew.metadata.photoshop.PhotoshopReader r16;
        boolean $z0;
        com.drew.metadata.photoshop.PhotoshopDirectory r2;
        com.drew.lang.BufferReader r3;
        com.drew.lang.ByteArrayReader $r18;
        java.lang.Object[] $r8;
        com.drew.metadata.Metadata r0;
        long $l0, $l1, $l6, $l7;
        java.util.HashMap $r6;
        com.drew.metadata.Directory $r1;
        int $i3, $i4, $i5, $i9, $i10, $i11, $i12, $i13, $i14, i16, i17, i18, i19, i20, i21, $i22, $i23;
        java.lang.String $r4, $r10, $r14;
        com.drew.lang.BufferBoundsException $r13, $r15;
        com.drew.metadata.iptc.IptcReader $r17;

        r16 := @this: com.drew.metadata.photoshop.PhotoshopReader;

        r3 := @parameter0: com.drew.lang.BufferReader;

        r0 := @parameter1: com.drew.metadata.Metadata;

        $r1 = virtualinvoke r0.<com.drew.metadata.Metadata: com.drew.metadata.Directory getOrCreateDirectory(java.lang.Class)>(class "Lcom/drew/metadata/photoshop/PhotoshopDirectory;");

        r2 = (com.drew.metadata.photoshop.PhotoshopDirectory) $r1;

     label01:
        $r4 = interfaceinvoke r3.<com.drew.lang.BufferReader: java.lang.String getString(int,int)>(0, 13);

        $z0 = virtualinvoke $r4.<java.lang.String: boolean equals(java.lang.Object)>("Photoshop 3.0");

        if $z0 == 0 goto label02;

        $b15 = 14;

        goto label03;

     label02:
        $b15 = 0;

     label03:
        i16 = $b15;

     label04:
        goto label06;

     label05:
        $r15 := @caughtexception;

        virtualinvoke r2.<com.drew.metadata.photoshop.PhotoshopDirectory: void addError(java.lang.String)>("Unable to read header");

        return;

     label06:
        $l0 = (long) i16;

        $l1 = interfaceinvoke r3.<com.drew.lang.BufferReader: long getLength()>();

        $b2 = $l0 cmp $l1;

        $i22 = (int) $b2;

        if $i22 >= 0 goto label15;

     label07:
        i17 = i16 + 4;

        $i3 = interfaceinvoke r3.<com.drew.lang.BufferReader: int getUInt16(int)>(i17);

        i18 = i17 + 2;

        $i4 = interfaceinvoke r3.<com.drew.lang.BufferReader: int getUInt16(int)>(i18);

        i19 = i18 + 2;

        if $i4 < 0 goto label08;

        $i5 = $i4 + i19;

        $l6 = (long) $i5;

        $l7 = interfaceinvoke r3.<com.drew.lang.BufferReader: long getLength()>();

        $b8 = $l6 cmp $l7;

        $i23 = (int) $b8;

        if $i23 <= 0 goto label09;

     label08:
        return;

     label09:
        i20 = i19 + $i4;

        $i9 = i20 % 2;

        if $i9 == 0 goto label10;

        i20 = i20 + 1;

     label10:
        $i10 = interfaceinvoke r3.<com.drew.lang.BufferReader: int getInt32(int)>(i20);

        i21 = i20 + 4;

        $r5 = interfaceinvoke r3.<com.drew.lang.BufferReader: byte[] getBytes(int,int)>(i21, $i10);

        $i14 = i21 + $i10;

        i16 = $i14;

        $i11 = $i14 % 2;

        if $i11 == 0 goto label11;

        i16 = $i14 + 1;

     label11:
        virtualinvoke r2.<com.drew.metadata.photoshop.PhotoshopDirectory: void setByteArray(int,byte[])>($i3, $r5);

        if $i3 != 1028 goto label12;

        $r17 = new com.drew.metadata.iptc.IptcReader;

        specialinvoke $r17.<com.drew.metadata.iptc.IptcReader: void <init>()>();

        $r18 = new com.drew.lang.ByteArrayReader;

        specialinvoke $r18.<com.drew.lang.ByteArrayReader: void <init>(byte[])>($r5);

        virtualinvoke $r17.<com.drew.metadata.iptc.IptcReader: void extract(com.drew.lang.BufferReader,com.drew.metadata.Metadata)>($r18, r0);

     label12:
        if $i3 < 4000 goto label13;

        if $i3 > 4999 goto label13;

        $r6 = <com.drew.metadata.photoshop.PhotoshopDirectory: java.util.HashMap _tagNameMap>;

        $r7 = staticinvoke <java.lang.Integer: java.lang.Integer valueOf(int)>($i3);

        $r8 = newarray (java.lang.Object)[1];

        $i12 = $i3 - 4000;

        $i13 = $i12 + 1;

        $r9 = staticinvoke <java.lang.Integer: java.lang.Integer valueOf(int)>($i13);

        $r8[0] = $r9;

        $r10 = staticinvoke <java.lang.String: java.lang.String format(java.lang.String,java.lang.Object[])>("Plug-in %d Data", $r8);

        virtualinvoke $r6.<java.util.HashMap: java.lang.Object put(java.lang.Object,java.lang.Object)>($r7, $r10);

     label13:
        goto label06;

     label14:
        $r13 := @caughtexception;

        $r14 = virtualinvoke $r13.<com.drew.lang.BufferBoundsException: java.lang.String getMessage()>();

        virtualinvoke r2.<com.drew.metadata.photoshop.PhotoshopDirectory: void addError(java.lang.String)>($r14);

        return;

     label15:
        return;

        catch com.drew.lang.BufferBoundsException from label01 to label04 with label05;
        catch com.drew.lang.BufferBoundsException from label07 to label08 with label14;
        catch com.drew.lang.BufferBoundsException from label09 to label13 with label14;
    }
}
