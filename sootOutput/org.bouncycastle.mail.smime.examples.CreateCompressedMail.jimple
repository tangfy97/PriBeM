public class org.bouncycastle.mail.smime.examples.CreateCompressedMail extends java.lang.Object
{

    public void <init>()
    {
        org.bouncycastle.mail.smime.examples.CreateCompressedMail r0;

        r0 := @this: org.bouncycastle.mail.smime.examples.CreateCompressedMail;

        specialinvoke r0.<java.lang.Object: void <init>()>();

        return;
    }

    public static void main(java.lang.String[]) throws java.lang.Exception
    {
        org.bouncycastle.mail.smime.SMIMECompressedGenerator $r0;
        java.util.Properties $r3;
        javax.mail.internet.MimeBodyPart $r1, $r2;
        java.io.FileOutputStream $r11;
        java.lang.String[] r12;
        javax.mail.internet.MimeMessage $r7;
        javax.mail.internet.InternetAddress $r5, $r6;
        javax.mail.Message$RecipientType $r8;
        javax.mail.Session $r4;
        java.lang.Object $r9;
        java.lang.String $r10;

        r12 := @parameter0: java.lang.String[];

        $r0 = new org.bouncycastle.mail.smime.SMIMECompressedGenerator;

        specialinvoke $r0.<org.bouncycastle.mail.smime.SMIMECompressedGenerator: void <init>()>();

        $r1 = new javax.mail.internet.MimeBodyPart;

        specialinvoke $r1.<javax.mail.internet.MimeBodyPart: void <init>()>();

        virtualinvoke $r1.<javax.mail.internet.MimeBodyPart: void setText(java.lang.String)>("Hello world!");

        $r2 = virtualinvoke $r0.<org.bouncycastle.mail.smime.SMIMECompressedGenerator: javax.mail.internet.MimeBodyPart generate(javax.mail.internet.MimeBodyPart,java.lang.String)>($r1, "1.2.840.113549.1.9.16.3.8");

        $r3 = staticinvoke <java.lang.System: java.util.Properties getProperties()>();

        $r4 = staticinvoke <javax.mail.Session: javax.mail.Session getDefaultInstance(java.util.Properties,javax.mail.Authenticator)>($r3, null);

        $r5 = new javax.mail.internet.InternetAddress;

        specialinvoke $r5.<javax.mail.internet.InternetAddress: void <init>(java.lang.String)>("\"Eric H. Echidna\"<eric@bouncycastle.org>");

        $r6 = new javax.mail.internet.InternetAddress;

        specialinvoke $r6.<javax.mail.internet.InternetAddress: void <init>(java.lang.String)>("example@bouncycastle.org");

        $r7 = new javax.mail.internet.MimeMessage;

        specialinvoke $r7.<javax.mail.internet.MimeMessage: void <init>(javax.mail.Session)>($r4);

        virtualinvoke $r7.<javax.mail.internet.MimeMessage: void setFrom(javax.mail.Address)>($r5);

        $r8 = <javax.mail.Message$RecipientType: javax.mail.Message$RecipientType TO>;

        virtualinvoke $r7.<javax.mail.internet.MimeMessage: void setRecipient(javax.mail.Message$RecipientType,javax.mail.Address)>($r8, $r6);

        virtualinvoke $r7.<javax.mail.internet.MimeMessage: void setSubject(java.lang.String)>("example compressed message");

        $r9 = virtualinvoke $r2.<javax.mail.internet.MimeBodyPart: java.lang.Object getContent()>();

        $r10 = virtualinvoke $r2.<javax.mail.internet.MimeBodyPart: java.lang.String getContentType()>();

        virtualinvoke $r7.<javax.mail.internet.MimeMessage: void setContent(java.lang.Object,java.lang.String)>($r9, $r10);

        virtualinvoke $r7.<javax.mail.internet.MimeMessage: void saveChanges()>();

        $r11 = new java.io.FileOutputStream;

        specialinvoke $r11.<java.io.FileOutputStream: void <init>(java.lang.String)>("compressed.message");

        virtualinvoke $r7.<javax.mail.internet.MimeMessage: void writeTo(java.io.OutputStream)>($r11);

        return;
    }
}
