public class org.apache.cxf.bus.spring.SpringBus extends org.apache.cxf.bus.extension.ExtensionManagerBus implements org.springframework.context.ApplicationContextAware
{
    org.springframework.context.support.AbstractApplicationContext ctx;
    boolean closeContext;

    public void <init>()
    {
        org.apache.cxf.bus.spring.SpringBus r0;

        r0 := @this: org.apache.cxf.bus.spring.SpringBus;

        specialinvoke r0.<org.apache.cxf.bus.extension.ExtensionManagerBus: void <init>()>();

        return;
    }

    public void setBusConfig(org.apache.cxf.bus.spring.BusDefinitionParser$BusConfig)
    {
        org.apache.cxf.bus.spring.SpringBus r1;
        org.apache.cxf.bus.spring.BusDefinitionParser$BusConfig r0;

        r1 := @this: org.apache.cxf.bus.spring.SpringBus;

        r0 := @parameter0: org.apache.cxf.bus.spring.BusDefinitionParser$BusConfig;

        virtualinvoke r0.<org.apache.cxf.bus.spring.BusDefinitionParser$BusConfig: void setBus(org.apache.cxf.Bus)>(r1);

        return;
    }

    public void loadAdditionalFeatures()
    {
        org.apache.cxf.bus.spring.SpringBus r0;

        r0 := @this: org.apache.cxf.bus.spring.SpringBus;

        specialinvoke r0.<org.apache.cxf.bus.extension.ExtensionManagerBus: void loadAdditionalFeatures()>();

        return;
    }

    public void setApplicationContext(org.springframework.context.ApplicationContext) throws org.springframework.beans.BeansException
    {
        org.apache.cxf.bus.BusState $r12, $r13;
        org.apache.cxf.resource.ResourceManager r8;
        boolean $z0, $z1;
        org.apache.cxf.bus.spring.BusApplicationContextResourceResolver $r9;
        org.apache.cxf.configuration.spring.ConfigurerImpl $r6;
        org.apache.cxf.bus.spring.SpringBeanLocator $r14;
        org.apache.cxf.configuration.ConfiguredBeanLocator r11;
        org.springframework.context.ApplicationContext r1, r16;
        org.apache.cxf.bus.spring.SpringBus$1 $r3;
        org.apache.cxf.bus.spring.SpringBus r0;
        org.springframework.context.support.AbstractApplicationContext $r2, $r4, $r15;
        java.lang.Object $r7, $r10;
        java.lang.ClassLoader $r5;

        r0 := @this: org.apache.cxf.bus.spring.SpringBus;

        r1 := @parameter0: org.springframework.context.ApplicationContext;

        $r2 = (org.springframework.context.support.AbstractApplicationContext) r1;

        r0.<org.apache.cxf.bus.spring.SpringBus: org.springframework.context.support.AbstractApplicationContext ctx> = $r2;

        $r3 = new org.apache.cxf.bus.spring.SpringBus$1;

        specialinvoke $r3.<org.apache.cxf.bus.spring.SpringBus$1: void <init>(org.apache.cxf.bus.spring.SpringBus)>(r0);

        $r4 = r0.<org.apache.cxf.bus.spring.SpringBus: org.springframework.context.support.AbstractApplicationContext ctx>;

        virtualinvoke $r4.<org.springframework.context.support.AbstractApplicationContext: void addApplicationListener(org.springframework.context.ApplicationListener)>($r3);

        r16 = interfaceinvoke r1.<org.springframework.context.ApplicationContext: org.springframework.context.ApplicationContext getParent()>();

     label1:
        if r16 == null goto label3;

        $z1 = r16 instanceof org.springframework.context.support.AbstractApplicationContext;

        if $z1 == 0 goto label2;

        $r15 = (org.springframework.context.support.AbstractApplicationContext) r16;

        virtualinvoke $r15.<org.springframework.context.support.AbstractApplicationContext: void addApplicationListener(org.springframework.context.ApplicationListener)>($r3);

     label2:
        r16 = interfaceinvoke r16.<org.springframework.context.ApplicationContext: org.springframework.context.ApplicationContext getParent()>();

        goto label1;

     label3:
        $r5 = interfaceinvoke r1.<org.springframework.context.ApplicationContext: java.lang.ClassLoader getClassLoader()>();

        virtualinvoke r0.<org.apache.cxf.bus.spring.SpringBus: void setExtension(java.lang.Object,java.lang.Class)>($r5, class "Ljava/lang/ClassLoader;");

        $r6 = new org.apache.cxf.configuration.spring.ConfigurerImpl;

        specialinvoke $r6.<org.apache.cxf.configuration.spring.ConfigurerImpl: void <init>(org.springframework.context.ApplicationContext)>(r1);

        virtualinvoke r0.<org.apache.cxf.bus.spring.SpringBus: void setExtension(java.lang.Object,java.lang.Class)>($r6, class "Lorg/apache/cxf/configuration/Configurer;");

        $r7 = virtualinvoke r0.<org.apache.cxf.bus.spring.SpringBus: java.lang.Object getExtension(java.lang.Class)>(class "Lorg/apache/cxf/resource/ResourceManager;");

        r8 = (org.apache.cxf.resource.ResourceManager) $r7;

        $r9 = new org.apache.cxf.bus.spring.BusApplicationContextResourceResolver;

        specialinvoke $r9.<org.apache.cxf.bus.spring.BusApplicationContextResourceResolver: void <init>(org.springframework.context.ApplicationContext)>(r1);

        interfaceinvoke r8.<org.apache.cxf.resource.ResourceManager: void addResourceResolver(org.apache.cxf.resource.ResourceResolver)>($r9);

        virtualinvoke r0.<org.apache.cxf.bus.spring.SpringBus: void setExtension(java.lang.Object,java.lang.Class)>(r1, class "Lorg/springframework/context/ApplicationContext;");

        $r10 = virtualinvoke r0.<org.apache.cxf.bus.spring.SpringBus: java.lang.Object getExtension(java.lang.Class)>(class "Lorg/apache/cxf/configuration/ConfiguredBeanLocator;");

        r11 = (org.apache.cxf.configuration.ConfiguredBeanLocator) $r10;

        $z0 = r11 instanceof org.apache.cxf.bus.spring.SpringBeanLocator;

        if $z0 != 0 goto label4;

        $r14 = new org.apache.cxf.bus.spring.SpringBeanLocator;

        specialinvoke $r14.<org.apache.cxf.bus.spring.SpringBeanLocator: void <init>(org.springframework.context.ApplicationContext,org.apache.cxf.Bus)>(r1, r0);

        virtualinvoke r0.<org.apache.cxf.bus.spring.SpringBus: void setExtension(java.lang.Object,java.lang.Class)>($r14, class "Lorg/apache/cxf/configuration/ConfiguredBeanLocator;");

     label4:
        $r12 = virtualinvoke r0.<org.apache.cxf.bus.spring.SpringBus: org.apache.cxf.bus.BusState getState()>();

        $r13 = <org.apache.cxf.bus.BusState: org.apache.cxf.bus.BusState RUNNING>;

        if $r12 == $r13 goto label5;

        virtualinvoke r0.<org.apache.cxf.bus.spring.SpringBus: void initialize()>();

     label5:
        return;
    }

    public void onApplicationEvent(org.springframework.context.ApplicationEvent)
    {
        org.apache.cxf.bus.BusState $r5, $r6;
        org.springframework.context.ApplicationContext $r9;
        org.apache.cxf.bus.spring.SpringBus r0;
        org.springframework.context.ApplicationEvent r2;
        org.apache.cxf.buslifecycle.BusLifeCycleManager $r4;
        org.springframework.context.support.AbstractApplicationContext $r1;
        java.lang.Object $r3, $r7, r8;
        boolean $z0, $z1, z2;

        r0 := @this: org.apache.cxf.bus.spring.SpringBus;

        r2 := @parameter0: org.springframework.context.ApplicationEvent;

        $r1 = r0.<org.apache.cxf.bus.spring.SpringBus: org.springframework.context.support.AbstractApplicationContext ctx>;

        if $r1 != null goto label1;

        return;

     label1:
        z2 = 0;

        r8 = r0.<org.apache.cxf.bus.spring.SpringBus: org.springframework.context.support.AbstractApplicationContext ctx>;

     label2:
        if r8 == null goto label4;

        if 0 != 0 goto label4;

        $r7 = virtualinvoke r2.<org.springframework.context.ApplicationEvent: java.lang.Object getSource()>();

        if $r7 != r8 goto label3;

        z2 = 1;

        goto label4;

     label3:
        $r9 = (org.springframework.context.ApplicationContext) r8;

        r8 = interfaceinvoke $r9.<org.springframework.context.ApplicationContext: org.springframework.context.ApplicationContext getParent()>();

        goto label2;

     label4:
        if z2 == 0 goto label6;

        $z0 = r2 instanceof org.springframework.context.event.ContextRefreshedEvent;

        if $z0 == 0 goto label5;

        $r5 = virtualinvoke r0.<org.apache.cxf.bus.spring.SpringBus: org.apache.cxf.bus.BusState getState()>();

        $r6 = <org.apache.cxf.bus.BusState: org.apache.cxf.bus.BusState RUNNING>;

        if $r5 == $r6 goto label6;

        virtualinvoke r0.<org.apache.cxf.bus.spring.SpringBus: void initialize()>();

        goto label6;

     label5:
        $z1 = r2 instanceof org.springframework.context.event.ContextClosedEvent;

        if $z1 == 0 goto label6;

        $r3 = virtualinvoke r0.<org.apache.cxf.bus.spring.SpringBus: java.lang.Object getExtension(java.lang.Class)>(class "Lorg/apache/cxf/buslifecycle/BusLifeCycleManager;");

        $r4 = (org.apache.cxf.buslifecycle.BusLifeCycleManager) $r3;

        interfaceinvoke $r4.<org.apache.cxf.buslifecycle.BusLifeCycleManager: void postShutdown()>();

     label6:
        return;
    }

    public void destroyBeans()
    {
        org.apache.cxf.bus.spring.SpringBus r0;
        org.springframework.context.support.AbstractApplicationContext $r1;
        boolean $z0;

        r0 := @this: org.apache.cxf.bus.spring.SpringBus;

        $z0 = r0.<org.apache.cxf.bus.spring.SpringBus: boolean closeContext>;

        if $z0 == 0 goto label1;

        $r1 = r0.<org.apache.cxf.bus.spring.SpringBus: org.springframework.context.support.AbstractApplicationContext ctx>;

        virtualinvoke $r1.<org.springframework.context.support.AbstractApplicationContext: void close()>();

     label1:
        specialinvoke r0.<org.apache.cxf.bus.extension.ExtensionManagerBus: void destroyBeans()>();

        return;
    }

    public java.lang.String getId()
    {
        java.lang.Throwable $r21;
        java.lang.Object[] $r7, $r11;
        int $i0;
        java.lang.String $r1, r13, $r18, $r20, $r22, $r23;
        java.lang.reflect.Method $r6, $r10;
        java.lang.Class[] $r5, $r9;
        org.apache.cxf.bus.spring.SpringBus r0;
        java.lang.Class $r2, $r3;
        java.lang.Object $r4, $r8, $r12;
        java.lang.StringBuilder $r14, $r15, $r16, $r17, $r19;

        r0 := @this: org.apache.cxf.bus.spring.SpringBus;

        $r1 = r0.<org.apache.cxf.bus.spring.SpringBus: java.lang.String id>;

        if $r1 != null goto label4;

     label1:
        $r2 = staticinvoke <java.lang.Class: java.lang.Class forName(java.lang.String)>("org.osgi.framework.BundleContext");

        $r3 = staticinvoke <java.lang.Class: java.lang.Class forName(java.lang.String)>("org.osgi.framework.Bundle");

        $r4 = virtualinvoke r0.<org.apache.cxf.bus.spring.SpringBus: java.lang.Object getExtension(java.lang.Class)>($r2);

        $r5 = newarray (java.lang.Class)[0];

        $r6 = virtualinvoke $r2.<java.lang.Class: java.lang.reflect.Method getMethod(java.lang.String,java.lang.Class[])>("getBundle", $r5);

        $r7 = newarray (java.lang.Object)[0];

        $r8 = virtualinvoke $r6.<java.lang.reflect.Method: java.lang.Object invoke(java.lang.Object,java.lang.Object[])>($r4, $r7);

        $r9 = newarray (java.lang.Class)[0];

        $r10 = virtualinvoke $r3.<java.lang.Class: java.lang.reflect.Method getMethod(java.lang.String,java.lang.Class[])>("getSymbolicName", $r9);

        $r11 = newarray (java.lang.Object)[0];

        $r12 = virtualinvoke $r10.<java.lang.reflect.Method: java.lang.Object invoke(java.lang.Object,java.lang.Object[])>($r8, $r11);

        r13 = (java.lang.String) $r12;

        $r14 = new java.lang.StringBuilder;

        specialinvoke $r14.<java.lang.StringBuilder: void <init>()>();

        $r15 = virtualinvoke $r14.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>(r13);

        $r16 = virtualinvoke $r15.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>("-");

        $r17 = virtualinvoke $r16.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>("cxf");

        $i0 = virtualinvoke r0.<java.lang.Object: int hashCode()>();

        $r18 = staticinvoke <java.lang.Integer: java.lang.String toString(int)>($i0);

        $r19 = virtualinvoke $r17.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>($r18);

        $r20 = virtualinvoke $r19.<java.lang.StringBuilder: java.lang.String toString()>();

        r0.<org.apache.cxf.bus.spring.SpringBus: java.lang.String id> = $r20;

     label2:
        goto label4;

     label3:
        $r21 := @caughtexception;

        $r22 = specialinvoke r0.<org.apache.cxf.bus.extension.ExtensionManagerBus: java.lang.String getId()>();

        r0.<org.apache.cxf.bus.spring.SpringBus: java.lang.String id> = $r22;

     label4:
        $r23 = r0.<org.apache.cxf.bus.spring.SpringBus: java.lang.String id>;

        return $r23;

        catch java.lang.Throwable from label1 to label2 with label3;
    }

    public void setCloseContext(boolean)
    {
        org.apache.cxf.bus.spring.SpringBus r0;
        boolean z0;

        r0 := @this: org.apache.cxf.bus.spring.SpringBus;

        z0 := @parameter0: boolean;

        r0.<org.apache.cxf.bus.spring.SpringBus: boolean closeContext> = z0;

        return;
    }
}
