public class org.eclipse.jetty.websocket.FragmentExtension extends org.eclipse.jetty.websocket.AbstractExtension
{
    private int _maxLength;
    private int _minFragments;

    public void <init>()
    {
        int $i1;
        org.eclipse.jetty.websocket.FragmentExtension r0;

        r0 := @this: org.eclipse.jetty.websocket.FragmentExtension;

        specialinvoke r0.<org.eclipse.jetty.websocket.AbstractExtension: void <init>(java.lang.String)>("fragment");

        $i1 = (int) -1;

        r0.<org.eclipse.jetty.websocket.FragmentExtension: int _maxLength> = $i1;

        r0.<org.eclipse.jetty.websocket.FragmentExtension: int _minFragments> = 1;

        return;
    }

    public boolean init(java.util.Map)
    {
        java.util.Map r1;
        int $i0, $i1, $i2, $i3;
        org.eclipse.jetty.websocket.FragmentExtension r0;
        boolean $z0;

        r0 := @this: org.eclipse.jetty.websocket.FragmentExtension;

        r1 := @parameter0: java.util.Map;

        $z0 = specialinvoke r0.<org.eclipse.jetty.websocket.AbstractExtension: boolean init(java.util.Map)>(r1);

        if $z0 == 0 goto label1;

        $i0 = r0.<org.eclipse.jetty.websocket.FragmentExtension: int _maxLength>;

        $i1 = virtualinvoke r0.<org.eclipse.jetty.websocket.FragmentExtension: int getInitParameter(java.lang.String,int)>("maxLength", $i0);

        r0.<org.eclipse.jetty.websocket.FragmentExtension: int _maxLength> = $i1;

        $i2 = r0.<org.eclipse.jetty.websocket.FragmentExtension: int _minFragments>;

        $i3 = virtualinvoke r0.<org.eclipse.jetty.websocket.FragmentExtension: int getInitParameter(java.lang.String,int)>("minFragments", $i2);

        r0.<org.eclipse.jetty.websocket.FragmentExtension: int _minFragments> = $i3;

        return 1;

     label1:
        return 0;
    }

    public void addFrame(byte, byte, byte[], int, int) throws java.io.IOException
    {
        byte[] r3;
        byte b1, $b2, $b3, $b4, $b6, $b7, $b9, $b10, $b11, $b13, b16;
        int $i0, i5, $i8, $i12, $i14, $i15, i17, i18, i19, $i20;
        org.eclipse.jetty.websocket.WebSocket$FrameConnection $r1, $r2, $r4, $r5, $r6;
        boolean $z0;
        org.eclipse.jetty.websocket.FragmentExtension r0;

        r0 := @this: org.eclipse.jetty.websocket.FragmentExtension;

        b1 := @parameter0: byte;

        b16 := @parameter1: byte;

        r3 := @parameter2: byte[];

        i17 := @parameter3: int;

        i18 := @parameter4: int;

        $r1 = virtualinvoke r0.<org.eclipse.jetty.websocket.FragmentExtension: org.eclipse.jetty.websocket.WebSocket$FrameConnection getConnection()>();

        $z0 = interfaceinvoke $r1.<org.eclipse.jetty.websocket.WebSocket$FrameConnection: boolean isControl(byte)>(b16);

        if $z0 == 0 goto label1;

        specialinvoke r0.<org.eclipse.jetty.websocket.AbstractExtension: void addFrame(byte,byte,byte[],int,int)>(b1, b16, r3, i17, i18);

        return;

     label1:
        i19 = 1;

     label2:
        $i0 = r0.<org.eclipse.jetty.websocket.FragmentExtension: int _maxLength>;

        if $i0 <= 0 goto label3;

        $i8 = r0.<org.eclipse.jetty.websocket.FragmentExtension: int _maxLength>;

        if i18 <= $i8 goto label3;

        i19 = i19 + 1;

        $r5 = virtualinvoke r0.<org.eclipse.jetty.websocket.FragmentExtension: org.eclipse.jetty.websocket.WebSocket$FrameConnection getConnection()>();

        $b9 = interfaceinvoke $r5.<org.eclipse.jetty.websocket.WebSocket$FrameConnection: byte finMask()>();

        $b10 = $b9 ^ -1;

        $b11 = b1 & $b10;

        $b13 = (byte) $b11;

        $i12 = r0.<org.eclipse.jetty.websocket.FragmentExtension: int _maxLength>;

        specialinvoke r0.<org.eclipse.jetty.websocket.AbstractExtension: void addFrame(byte,byte,byte[],int,int)>($b13, b16, r3, i17, $i12);

        $i14 = r0.<org.eclipse.jetty.websocket.FragmentExtension: int _maxLength>;

        i18 = i18 - $i14;

        $i15 = r0.<org.eclipse.jetty.websocket.FragmentExtension: int _maxLength>;

        i17 = i17 + $i15;

        $r6 = virtualinvoke r0.<org.eclipse.jetty.websocket.FragmentExtension: org.eclipse.jetty.websocket.WebSocket$FrameConnection getConnection()>();

        b16 = interfaceinvoke $r6.<org.eclipse.jetty.websocket.WebSocket$FrameConnection: byte continuationOpcode()>();

        goto label2;

     label3:
        $i20 = r0.<org.eclipse.jetty.websocket.FragmentExtension: int _minFragments>;

        if i19 >= $i20 goto label4;

        i5 = i18 / 2;

        i19 = i19 + 1;

        $b6 = b1 & 7;

        $b7 = (byte) $b6;

        specialinvoke r0.<org.eclipse.jetty.websocket.AbstractExtension: void addFrame(byte,byte,byte[],int,int)>($b7, b16, r3, i17, i5);

        i18 = i18 - i5;

        i17 = i17 + i5;

        $r4 = virtualinvoke r0.<org.eclipse.jetty.websocket.FragmentExtension: org.eclipse.jetty.websocket.WebSocket$FrameConnection getConnection()>();

        b16 = interfaceinvoke $r4.<org.eclipse.jetty.websocket.WebSocket$FrameConnection: byte continuationOpcode()>();

        goto label3;

     label4:
        $r2 = virtualinvoke r0.<org.eclipse.jetty.websocket.FragmentExtension: org.eclipse.jetty.websocket.WebSocket$FrameConnection getConnection()>();

        $b2 = interfaceinvoke $r2.<org.eclipse.jetty.websocket.WebSocket$FrameConnection: byte finMask()>();

        $b3 = b1 | $b2;

        $b4 = (byte) $b3;

        specialinvoke r0.<org.eclipse.jetty.websocket.AbstractExtension: void addFrame(byte,byte,byte[],int,int)>($b4, b16, r3, i17, i18);

        return;
    }
}
