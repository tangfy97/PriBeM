public class org.eclipse.jetty.websocket.WebSocketServletConnectionD00 extends org.eclipse.jetty.websocket.WebSocketConnectionD00 implements org.eclipse.jetty.websocket.WebSocketServletConnection
{
    private final org.eclipse.jetty.websocket.WebSocketFactory factory;

    public void <init>(org.eclipse.jetty.websocket.WebSocketFactory, org.eclipse.jetty.websocket.WebSocket, org.eclipse.jetty.io.EndPoint, org.eclipse.jetty.websocket.WebSocketBuffers, long, int, java.lang.String) throws java.io.IOException
    {
        org.eclipse.jetty.websocket.WebSocketBuffers r3;
        org.eclipse.jetty.websocket.WebSocketFactory r5;
        org.eclipse.jetty.io.EndPoint r2;
        long l0;
        int i1;
        org.eclipse.jetty.websocket.WebSocketServletConnectionD00 r0;
        java.lang.String r4;
        org.eclipse.jetty.websocket.WebSocket r1;

        r0 := @this: org.eclipse.jetty.websocket.WebSocketServletConnectionD00;

        r5 := @parameter0: org.eclipse.jetty.websocket.WebSocketFactory;

        r1 := @parameter1: org.eclipse.jetty.websocket.WebSocket;

        r2 := @parameter2: org.eclipse.jetty.io.EndPoint;

        r3 := @parameter3: org.eclipse.jetty.websocket.WebSocketBuffers;

        l0 := @parameter4: long;

        i1 := @parameter5: int;

        r4 := @parameter6: java.lang.String;

        specialinvoke r0.<org.eclipse.jetty.websocket.WebSocketConnectionD00: void <init>(org.eclipse.jetty.websocket.WebSocket,org.eclipse.jetty.io.EndPoint,org.eclipse.jetty.websocket.WebSocketBuffers,long,int,java.lang.String)>(r1, r2, r3, l0, i1, r4);

        r0.<org.eclipse.jetty.websocket.WebSocketServletConnectionD00: org.eclipse.jetty.websocket.WebSocketFactory factory> = r5;

        return;
    }

    public void handshake(javax.servlet.http.HttpServletRequest, javax.servlet.http.HttpServletResponse, java.lang.String) throws java.io.IOException
    {
        org.eclipse.jetty.websocket.WebSocketServletConnectionD00 r11;
        boolean $z0, $z1;
        java.lang.StringBuilder $r5, $r6, $r7, $r8, $r13, $r14, $r15, $r16, $r18, $r19, $r20, $r21;
        javax.servlet.http.HttpServletRequest r0;
        org.eclipse.jetty.http.HttpURI $r23;
        int $i0;
        java.lang.String $r1, $r2, $r3, $r9, r10, $r12, $r17, r22, $r24, $r25, $r26, r27, $r28, $r29;
        javax.servlet.http.HttpServletResponse r4;

        r11 := @this: org.eclipse.jetty.websocket.WebSocketServletConnectionD00;

        r0 := @parameter0: javax.servlet.http.HttpServletRequest;

        r4 := @parameter1: javax.servlet.http.HttpServletResponse;

        r10 := @parameter2: java.lang.String;

        $r1 = interfaceinvoke r0.<javax.servlet.http.HttpServletRequest: java.lang.String getRequestURI()>();

        r22 = $r1;

        $r2 = interfaceinvoke r0.<javax.servlet.http.HttpServletRequest: java.lang.String getQueryString()>();

        if $r2 == null goto label01;

        $i0 = virtualinvoke $r2.<java.lang.String: int length()>();

        if $i0 <= 0 goto label01;

        $r18 = new java.lang.StringBuilder;

        specialinvoke $r18.<java.lang.StringBuilder: void <init>()>();

        $r19 = virtualinvoke $r18.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>($r1);

        $r20 = virtualinvoke $r19.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>("?");

        $r21 = virtualinvoke $r20.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>($r2);

        r22 = virtualinvoke $r21.<java.lang.StringBuilder: java.lang.String toString()>();

     label01:
        $r23 = new org.eclipse.jetty.http.HttpURI;

        specialinvoke $r23.<org.eclipse.jetty.http.HttpURI: void <init>(java.lang.String)>(r22);

        $r24 = virtualinvoke $r23.<org.eclipse.jetty.http.HttpURI: java.lang.String toString()>();

        $r25 = interfaceinvoke r0.<javax.servlet.http.HttpServletRequest: java.lang.String getHeader(java.lang.String)>("Host");

        $r26 = interfaceinvoke r0.<javax.servlet.http.HttpServletRequest: java.lang.String getHeader(java.lang.String)>("Sec-WebSocket-Origin");

        r27 = $r26;

        if $r26 != null goto label02;

        r27 = interfaceinvoke r0.<javax.servlet.http.HttpServletRequest: java.lang.String getHeader(java.lang.String)>("Origin");

     label02:
        if r27 == null goto label03;

        r27 = staticinvoke <org.eclipse.jetty.util.QuotedStringTokenizer: java.lang.String quoteIfNeeded(java.lang.String,java.lang.String)>(r27, "\r\n");

     label03:
        $r3 = interfaceinvoke r0.<javax.servlet.http.HttpServletRequest: java.lang.String getHeader(java.lang.String)>("Sec-WebSocket-Key1");

        if $r3 == null goto label08;

        $r12 = interfaceinvoke r0.<javax.servlet.http.HttpServletRequest: java.lang.String getHeader(java.lang.String)>("Sec-WebSocket-Key2");

        virtualinvoke r11.<org.eclipse.jetty.websocket.WebSocketServletConnectionD00: void setHixieKeys(java.lang.String,java.lang.String)>($r3, $r12);

        interfaceinvoke r4.<javax.servlet.http.HttpServletResponse: void setHeader(java.lang.String,java.lang.String)>("Upgrade", "WebSocket");

        interfaceinvoke r4.<javax.servlet.http.HttpServletResponse: void addHeader(java.lang.String,java.lang.String)>("Connection", "Upgrade");

        if r27 == null goto label04;

        interfaceinvoke r4.<javax.servlet.http.HttpServletResponse: void addHeader(java.lang.String,java.lang.String)>("Sec-WebSocket-Origin", r27);

     label04:
        $r13 = new java.lang.StringBuilder;

        specialinvoke $r13.<java.lang.StringBuilder: void <init>()>();

        $z1 = interfaceinvoke r0.<javax.servlet.http.HttpServletRequest: boolean isSecure()>();

        if $z1 == 0 goto label05;

        $r28 = "wss://";

        goto label06;

     label05:
        $r28 = "ws://";

     label06:
        $r14 = virtualinvoke $r13.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>($r28);

        $r15 = virtualinvoke $r14.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>($r25);

        $r16 = virtualinvoke $r15.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>($r24);

        $r17 = virtualinvoke $r16.<java.lang.StringBuilder: java.lang.String toString()>();

        interfaceinvoke r4.<javax.servlet.http.HttpServletResponse: void addHeader(java.lang.String,java.lang.String)>("Sec-WebSocket-Location", $r17);

        if r10 == null goto label07;

        interfaceinvoke r4.<javax.servlet.http.HttpServletResponse: void addHeader(java.lang.String,java.lang.String)>("Sec-WebSocket-Protocol", r10);

     label07:
        interfaceinvoke r4.<javax.servlet.http.HttpServletResponse: void sendError(int,java.lang.String)>(101, "WebSocket Protocol Handshake");

        goto label12;

     label08:
        interfaceinvoke r4.<javax.servlet.http.HttpServletResponse: void setHeader(java.lang.String,java.lang.String)>("Upgrade", "WebSocket");

        interfaceinvoke r4.<javax.servlet.http.HttpServletResponse: void addHeader(java.lang.String,java.lang.String)>("Connection", "Upgrade");

        interfaceinvoke r4.<javax.servlet.http.HttpServletResponse: void addHeader(java.lang.String,java.lang.String)>("WebSocket-Origin", r27);

        $r5 = new java.lang.StringBuilder;

        specialinvoke $r5.<java.lang.StringBuilder: void <init>()>();

        $z0 = interfaceinvoke r0.<javax.servlet.http.HttpServletRequest: boolean isSecure()>();

        if $z0 == 0 goto label09;

        $r29 = "wss://";

        goto label10;

     label09:
        $r29 = "ws://";

     label10:
        $r6 = virtualinvoke $r5.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>($r29);

        $r7 = virtualinvoke $r6.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>($r25);

        $r8 = virtualinvoke $r7.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>($r24);

        $r9 = virtualinvoke $r8.<java.lang.StringBuilder: java.lang.String toString()>();

        interfaceinvoke r4.<javax.servlet.http.HttpServletResponse: void addHeader(java.lang.String,java.lang.String)>("WebSocket-Location", $r9);

        if r10 == null goto label11;

        interfaceinvoke r4.<javax.servlet.http.HttpServletResponse: void addHeader(java.lang.String,java.lang.String)>("WebSocket-Protocol", r10);

     label11:
        interfaceinvoke r4.<javax.servlet.http.HttpServletResponse: void sendError(int,java.lang.String)>(101, "Web Socket Protocol Handshake");

        interfaceinvoke r4.<javax.servlet.http.HttpServletResponse: void flushBuffer()>();

        virtualinvoke r11.<org.eclipse.jetty.websocket.WebSocketServletConnectionD00: void onFrameHandshake()>();

        virtualinvoke r11.<org.eclipse.jetty.websocket.WebSocketServletConnectionD00: void onWebsocketOpen()>();

     label12:
        return;
    }

    public void onClose()
    {
        org.eclipse.jetty.websocket.WebSocketServletConnectionD00 r0;
        org.eclipse.jetty.websocket.WebSocketFactory $r1;

        r0 := @this: org.eclipse.jetty.websocket.WebSocketServletConnectionD00;

        specialinvoke r0.<org.eclipse.jetty.websocket.WebSocketConnectionD00: void onClose()>();

        $r1 = r0.<org.eclipse.jetty.websocket.WebSocketServletConnectionD00: org.eclipse.jetty.websocket.WebSocketFactory factory>;

        virtualinvoke $r1.<org.eclipse.jetty.websocket.WebSocketFactory: boolean removeConnection(org.eclipse.jetty.websocket.WebSocketServletConnection)>(r0);

        return;
    }
}
