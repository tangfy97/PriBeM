public class ucar.nc2.ncml.AggregationNew extends ucar.nc2.ncml.AggregationOuterDimension
{

    public void <init>(ucar.nc2.dataset.NetcdfDataset, java.lang.String, java.lang.String)
    {
        ucar.nc2.ncml.Aggregation$Type $r4;
        java.lang.String r2, r3;
        ucar.nc2.dataset.NetcdfDataset r1;
        ucar.nc2.ncml.AggregationNew r0;

        r0 := @this: ucar.nc2.ncml.AggregationNew;

        r1 := @parameter0: ucar.nc2.dataset.NetcdfDataset;

        r2 := @parameter1: java.lang.String;

        r3 := @parameter2: java.lang.String;

        $r4 = <ucar.nc2.ncml.Aggregation$Type: ucar.nc2.ncml.Aggregation$Type joinNew>;

        specialinvoke r0.<ucar.nc2.ncml.AggregationOuterDimension: void <init>(ucar.nc2.dataset.NetcdfDataset,java.lang.String,ucar.nc2.ncml.Aggregation$Type,java.lang.String)>(r1, r2, $r4, r3);

        return;
    }

    protected void buildNetcdfDataset(ucar.nc2.util.CancelTask) throws java.io.IOException
    {
        ucar.nc2.ncml.Aggregation$Dataset $r2;
        ucar.nc2.util.CancelTask r1;
        ucar.nc2.Group $r26, $r27;
        ucar.nc2.Attribute $r38, $r47, $r60;
        java.lang.StringBuilder $r32, $r33, $r34, $r36, $r41, $r42, $r43, $r45, $r48, $r52, $r53, $r54;
        ucar.nc2.ncml.AggregationOuterDimension$CoordValueVar $r14;
        java.lang.String $r5, $r15, $r17, $r30, $r35, $r37, $r39, $r44, $r46, $r51, $r55, $r59, r62;
        ucar.nc2.Dimension $r6;
        ucar.nc2.dataset.NetcdfDataset $r4, $r7, $r8, $r12, $r13, $r21, $r23, $r25, $r29, $r50;
        ucar.nc2.ncml.AggregationNew r0;
        boolean $z0, $z1, $z2, $z3, $z4;
        ucar.nc2.dataset.VariableDS $r11, $r28;
        ucar.nc2.ncml.AggregationOuterDimension$DatasetOuterDimension $r9;
        ucar.ma2.DataType $r10, $r16, $r31;
        java.util.List $r18, $r19, $r40, $r56;
        ucar.nc2.NetcdfFile $r3;
        int $i0, $i1;
        ucar.nc2.Variable $r24, r61;
        org.slf4j.Logger $r49;
        java.util.Iterator $r20, $r57;
        java.lang.Object $r22, $r58;

        r0 := @this: ucar.nc2.ncml.AggregationNew;

        r1 := @parameter0: ucar.nc2.util.CancelTask;

        virtualinvoke r0.<ucar.nc2.ncml.AggregationNew: void buildCoords(ucar.nc2.util.CancelTask)>(r1);

        $r2 = virtualinvoke r0.<ucar.nc2.ncml.AggregationNew: ucar.nc2.ncml.Aggregation$Dataset getTypicalDataset()>();

        $r3 = virtualinvoke $r2.<ucar.nc2.ncml.Aggregation$Dataset: ucar.nc2.NetcdfFile acquireFile(ucar.nc2.util.CancelTask)>(null);

        $r4 = r0.<ucar.nc2.ncml.AggregationNew: ucar.nc2.dataset.NetcdfDataset ncDataset>;

        staticinvoke <ucar.nc2.dataset.DatasetConstructor: void transferDataset(ucar.nc2.NetcdfFile,ucar.nc2.dataset.NetcdfDataset,ucar.nc2.dataset.ReplaceVariableCheck)>($r3, $r4, null);

        $r5 = virtualinvoke r0.<ucar.nc2.ncml.AggregationNew: java.lang.String getDimensionName()>();

        $r6 = new ucar.nc2.Dimension;

        $i0 = virtualinvoke r0.<ucar.nc2.ncml.AggregationNew: int getTotalCoords()>();

        specialinvoke $r6.<ucar.nc2.Dimension: void <init>(java.lang.String,int)>($r5, $i0);

        $r7 = r0.<ucar.nc2.ncml.AggregationNew: ucar.nc2.dataset.NetcdfDataset ncDataset>;

        virtualinvoke $r7.<ucar.nc2.dataset.NetcdfDataset: boolean removeDimension(ucar.nc2.Group,java.lang.String)>(null, $r5);

        $r8 = r0.<ucar.nc2.ncml.AggregationNew: ucar.nc2.dataset.NetcdfDataset ncDataset>;

        virtualinvoke $r8.<ucar.nc2.dataset.NetcdfDataset: ucar.nc2.Dimension addDimension(ucar.nc2.Group,ucar.nc2.Dimension)>(null, $r6);

        $r9 = (ucar.nc2.ncml.AggregationOuterDimension$DatasetOuterDimension) $r2;

        virtualinvoke r0.<ucar.nc2.ncml.AggregationNew: void promoteGlobalAttributes(ucar.nc2.ncml.AggregationOuterDimension$DatasetOuterDimension)>($r9);

        $r10 = specialinvoke r0.<ucar.nc2.ncml.AggregationNew: ucar.ma2.DataType getCoordinateType()>();

        $r11 = new ucar.nc2.dataset.VariableDS;

        $r12 = r0.<ucar.nc2.ncml.AggregationNew: ucar.nc2.dataset.NetcdfDataset ncDataset>;

        specialinvoke $r11.<ucar.nc2.dataset.VariableDS: void <init>(ucar.nc2.dataset.NetcdfDataset,ucar.nc2.Group,ucar.nc2.Structure,java.lang.String,ucar.ma2.DataType,java.lang.String,java.lang.String,java.lang.String)>($r12, null, null, $r5, $r10, $r5, null, null);

        $r13 = r0.<ucar.nc2.ncml.AggregationNew: ucar.nc2.dataset.NetcdfDataset ncDataset>;

        virtualinvoke $r13.<ucar.nc2.dataset.NetcdfDataset: ucar.nc2.Variable addVariable(ucar.nc2.Group,ucar.nc2.Variable)>(null, $r11);

        virtualinvoke $r11.<ucar.nc2.dataset.VariableDS: void setProxyReader(ucar.nc2.ProxyReader)>(r0);

        $z0 = r0.<ucar.nc2.ncml.AggregationNew: boolean isDate>;

        if $z0 == 0 goto label1;

        $r60 = new ucar.nc2.Attribute;

        specialinvoke $r60.<ucar.nc2.Attribute: void <init>(java.lang.String,java.lang.String)>("_CoordinateAxisType", "Time");

        virtualinvoke $r11.<ucar.nc2.dataset.VariableDS: ucar.nc2.Attribute addAttribute(ucar.nc2.Attribute)>($r60);

     label1:
        $r14 = new ucar.nc2.ncml.AggregationOuterDimension$CoordValueVar;

        $r15 = virtualinvoke $r11.<ucar.nc2.dataset.VariableDS: java.lang.String getName()>();

        $r16 = virtualinvoke $r11.<ucar.nc2.dataset.VariableDS: ucar.ma2.DataType getDataType()>();

        $r17 = virtualinvoke $r11.<ucar.nc2.dataset.VariableDS: java.lang.String getUnitsString()>();

        specialinvoke $r14.<ucar.nc2.ncml.AggregationOuterDimension$CoordValueVar: void <init>(ucar.nc2.ncml.AggregationOuterDimension,java.lang.String,ucar.ma2.DataType,java.lang.String)>(r0, $r15, $r16, $r17);

        virtualinvoke $r11.<ucar.nc2.dataset.VariableDS: void setSPobject(java.lang.Object)>($r14);

        $r18 = r0.<ucar.nc2.ncml.AggregationNew: java.util.List cacheList>;

        interfaceinvoke $r18.<java.util.List: boolean add(java.lang.Object)>($r14);

        $r19 = virtualinvoke r0.<ucar.nc2.ncml.AggregationNew: java.util.List getAggVariableNames()>();

        $i1 = interfaceinvoke $r19.<java.util.List: int size()>();

        if $i1 != 0 goto label4;

        $r56 = virtualinvoke $r3.<ucar.nc2.NetcdfFile: java.util.List getVariables()>();

        $r57 = interfaceinvoke $r56.<java.util.List: java.util.Iterator iterator()>();

     label2:
        $z2 = interfaceinvoke $r57.<java.util.Iterator: boolean hasNext()>();

        if $z2 == 0 goto label4;

        $r58 = interfaceinvoke $r57.<java.util.Iterator: java.lang.Object next()>();

        r61 = (ucar.nc2.Variable) $r58;

        $z3 = r61 instanceof ucar.nc2.dataset.CoordinateAxis;

        if $z3 != 0 goto label3;

        $r59 = virtualinvoke r61.<ucar.nc2.Variable: java.lang.String getShortName()>();

        interfaceinvoke $r19.<java.util.List: boolean add(java.lang.Object)>($r59);

     label3:
        goto label2;

     label4:
        $r20 = interfaceinvoke $r19.<java.util.List: java.util.Iterator iterator()>();

     label5:
        $z4 = interfaceinvoke $r20.<java.util.Iterator: boolean hasNext()>();

        if $z4 == 0 goto label9;

        $r22 = interfaceinvoke $r20.<java.util.Iterator: java.lang.Object next()>();

        r62 = (java.lang.String) $r22;

        $r23 = r0.<ucar.nc2.ncml.AggregationNew: ucar.nc2.dataset.NetcdfDataset ncDataset>;

        $r24 = virtualinvoke $r23.<ucar.nc2.dataset.NetcdfDataset: ucar.nc2.Variable findVariable(java.lang.String)>(r62);

        if $r24 != null goto label6;

        $r49 = <ucar.nc2.ncml.AggregationNew: org.slf4j.Logger logger>;

        $r48 = new java.lang.StringBuilder;

        specialinvoke $r48.<java.lang.StringBuilder: void <init>()>();

        $r50 = r0.<ucar.nc2.ncml.AggregationNew: ucar.nc2.dataset.NetcdfDataset ncDataset>;

        $r51 = virtualinvoke $r50.<ucar.nc2.dataset.NetcdfDataset: java.lang.String getLocation()>();

        $r52 = virtualinvoke $r48.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>($r51);

        $r53 = virtualinvoke $r52.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>(" aggNewDimension cant find variable ");

        $r54 = virtualinvoke $r53.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>(r62);

        $r55 = virtualinvoke $r54.<java.lang.StringBuilder: java.lang.String toString()>();

        interfaceinvoke $r49.<org.slf4j.Logger: void error(java.lang.String)>($r55);

        goto label5;

     label6:
        $r25 = r0.<ucar.nc2.ncml.AggregationNew: ucar.nc2.dataset.NetcdfDataset ncDataset>;

        $r26 = virtualinvoke $r24.<ucar.nc2.Variable: ucar.nc2.Group getParentGroup()>();

        $r27 = staticinvoke <ucar.nc2.dataset.DatasetConstructor: ucar.nc2.Group findGroup(ucar.nc2.NetcdfFile,ucar.nc2.Group)>($r25, $r26);

        $r28 = new ucar.nc2.dataset.VariableDS;

        $r29 = r0.<ucar.nc2.ncml.AggregationNew: ucar.nc2.dataset.NetcdfDataset ncDataset>;

        $r30 = virtualinvoke $r24.<ucar.nc2.Variable: java.lang.String getShortName()>();

        $r31 = virtualinvoke $r24.<ucar.nc2.Variable: ucar.ma2.DataType getDataType()>();

        $r32 = new java.lang.StringBuilder;

        specialinvoke $r32.<java.lang.StringBuilder: void <init>()>();

        $r33 = virtualinvoke $r32.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>($r5);

        $r34 = virtualinvoke $r33.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>(" ");

        $r35 = virtualinvoke $r24.<ucar.nc2.Variable: java.lang.String getDimensionsString()>();

        $r36 = virtualinvoke $r34.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>($r35);

        $r37 = virtualinvoke $r36.<java.lang.StringBuilder: java.lang.String toString()>();

        specialinvoke $r28.<ucar.nc2.dataset.VariableDS: void <init>(ucar.nc2.dataset.NetcdfDataset,ucar.nc2.Group,ucar.nc2.Structure,java.lang.String,ucar.ma2.DataType,java.lang.String,java.lang.String,java.lang.String)>($r29, $r27, null, $r30, $r31, $r37, null, null);

        virtualinvoke $r28.<ucar.nc2.dataset.VariableDS: void setProxyReader(ucar.nc2.ProxyReader)>(r0);

        staticinvoke <ucar.nc2.dataset.DatasetConstructor: void transferVariableAttributes(ucar.nc2.Variable,ucar.nc2.Variable)>($r24, $r28);

        $r38 = virtualinvoke $r28.<ucar.nc2.dataset.VariableDS: ucar.nc2.Attribute findAttribute(java.lang.String)>("_CoordinateAxes");

        if $r38 == null goto label7;

        $r41 = new java.lang.StringBuilder;

        specialinvoke $r41.<java.lang.StringBuilder: void <init>()>();

        $r42 = virtualinvoke $r41.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>($r5);

        $r43 = virtualinvoke $r42.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>(" ");

        $r44 = virtualinvoke $r38.<ucar.nc2.Attribute: java.lang.String getStringValue()>();

        $r45 = virtualinvoke $r43.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>($r44);

        $r46 = virtualinvoke $r45.<java.lang.StringBuilder: java.lang.String toString()>();

        $r47 = new ucar.nc2.Attribute;

        specialinvoke $r47.<ucar.nc2.Attribute: void <init>(java.lang.String,java.lang.String)>("_CoordinateAxes", $r46);

        virtualinvoke $r28.<ucar.nc2.dataset.VariableDS: ucar.nc2.Attribute addAttribute(ucar.nc2.Attribute)>($r47);

     label7:
        $r39 = virtualinvoke $r24.<ucar.nc2.Variable: java.lang.String getShortName()>();

        virtualinvoke $r27.<ucar.nc2.Group: boolean removeVariable(java.lang.String)>($r39);

        virtualinvoke $r27.<ucar.nc2.Group: void addVariable(ucar.nc2.Variable)>($r28);

        $r40 = r0.<ucar.nc2.ncml.AggregationNew: java.util.List aggVars>;

        interfaceinvoke $r40.<java.util.List: boolean add(java.lang.Object)>($r28);

        if r1 == null goto label8;

        $z1 = interfaceinvoke r1.<ucar.nc2.util.CancelTask: boolean isCancel()>();

        if $z1 == 0 goto label8;

        return;

     label8:
        goto label5;

     label9:
        $r21 = r0.<ucar.nc2.ncml.AggregationNew: ucar.nc2.dataset.NetcdfDataset ncDataset>;

        virtualinvoke r0.<ucar.nc2.ncml.AggregationNew: void setDatasetAcquireProxy(ucar.nc2.ncml.Aggregation$Dataset,ucar.nc2.dataset.NetcdfDataset)>($r2, $r21);

        virtualinvoke $r2.<ucar.nc2.ncml.Aggregation$Dataset: void close(ucar.nc2.NetcdfFile)>($r3);

        return;
    }

    private ucar.ma2.DataType getCoordinateType()
    {
        java.util.List $r1;
        ucar.nc2.ncml.AggregationOuterDimension$DatasetOuterDimension r3;
        ucar.ma2.DataType $r4;
        java.lang.Object $r2;
        ucar.nc2.ncml.AggregationNew r0;
        boolean $z0;

        r0 := @this: ucar.nc2.ncml.AggregationNew;

        $r1 = virtualinvoke r0.<ucar.nc2.ncml.AggregationNew: java.util.List getDatasets()>();

        $r2 = interfaceinvoke $r1.<java.util.List: java.lang.Object get(int)>(0);

        r3 = (ucar.nc2.ncml.AggregationOuterDimension$DatasetOuterDimension) $r2;

        $z0 = r3.<ucar.nc2.ncml.AggregationOuterDimension$DatasetOuterDimension: boolean isStringValued>;

        if $z0 == 0 goto label1;

        $r4 = <ucar.ma2.DataType: ucar.ma2.DataType STRING>;

        goto label2;

     label1:
        $r4 = <ucar.ma2.DataType: ucar.ma2.DataType DOUBLE>;

     label2:
        return $r4;
    }
}
