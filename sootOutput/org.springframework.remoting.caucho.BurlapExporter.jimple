public class org.springframework.remoting.caucho.BurlapExporter extends org.springframework.remoting.support.RemoteExporter implements org.springframework.beans.factory.InitializingBean
{
    private com.caucho.burlap.server.BurlapSkeleton skeleton;

    public void <init>()
    {
        org.springframework.remoting.caucho.BurlapExporter r0;

        r0 := @this: org.springframework.remoting.caucho.BurlapExporter;

        specialinvoke r0.<org.springframework.remoting.support.RemoteExporter: void <init>()>();

        return;
    }

    public void afterPropertiesSet()
    {
        org.springframework.remoting.caucho.BurlapExporter r0;

        r0 := @this: org.springframework.remoting.caucho.BurlapExporter;

        virtualinvoke r0.<org.springframework.remoting.caucho.BurlapExporter: void prepare()>();

        return;
    }

    public void prepare()
    {
        org.springframework.remoting.caucho.BurlapExporter r0;
        java.lang.Object $r2;
        java.lang.Class $r3;
        com.caucho.burlap.server.BurlapSkeleton $r1;

        r0 := @this: org.springframework.remoting.caucho.BurlapExporter;

        virtualinvoke r0.<org.springframework.remoting.caucho.BurlapExporter: void checkService()>();

        virtualinvoke r0.<org.springframework.remoting.caucho.BurlapExporter: void checkServiceInterface()>();

        $r1 = new com.caucho.burlap.server.BurlapSkeleton;

        $r2 = virtualinvoke r0.<org.springframework.remoting.caucho.BurlapExporter: java.lang.Object getProxyForService()>();

        $r3 = virtualinvoke r0.<org.springframework.remoting.caucho.BurlapExporter: java.lang.Class getServiceInterface()>();

        specialinvoke $r1.<com.caucho.burlap.server.BurlapSkeleton: void <init>(java.lang.Object,java.lang.Class)>($r2, $r3);

        r0.<org.springframework.remoting.caucho.BurlapExporter: com.caucho.burlap.server.BurlapSkeleton skeleton> = $r1;

        return;
    }

    public void invoke(java.io.InputStream, java.io.OutputStream) throws java.lang.Throwable
    {
        java.io.OutputStream r7;
        java.lang.Throwable $r12;
        org.springframework.remoting.caucho.BurlapExporter r0;
        java.io.IOException $r8, $r9, $r10, $r11;
        com.caucho.burlap.io.BurlapInput $r3;
        com.caucho.burlap.io.BurlapOutput $r6;
        java.lang.ClassLoader $r2;
        com.caucho.burlap.server.BurlapSkeleton $r1, $r5;
        java.io.InputStream r4;

        r0 := @this: org.springframework.remoting.caucho.BurlapExporter;

        r4 := @parameter0: java.io.InputStream;

        r7 := @parameter1: java.io.OutputStream;

        $r1 = r0.<org.springframework.remoting.caucho.BurlapExporter: com.caucho.burlap.server.BurlapSkeleton skeleton>;

        staticinvoke <org.springframework.util.Assert: void notNull(java.lang.Object,java.lang.String)>($r1, "Burlap exporter has not been initialized");

        $r2 = virtualinvoke r0.<org.springframework.remoting.caucho.BurlapExporter: java.lang.ClassLoader overrideThreadContextClassLoader()>();

     label01:
        $r5 = r0.<org.springframework.remoting.caucho.BurlapExporter: com.caucho.burlap.server.BurlapSkeleton skeleton>;

        $r3 = new com.caucho.burlap.io.BurlapInput;

        specialinvoke $r3.<com.caucho.burlap.io.BurlapInput: void <init>(java.io.InputStream)>(r4);

        $r6 = new com.caucho.burlap.io.BurlapOutput;

        specialinvoke $r6.<com.caucho.burlap.io.BurlapOutput: void <init>(java.io.OutputStream)>(r7);

        virtualinvoke $r5.<com.caucho.burlap.server.BurlapSkeleton: void invoke(com.caucho.burlap.io.BurlapInput,com.caucho.burlap.io.BurlapOutput)>($r3, $r6);

        goto label10;

     label02:
        $r12 := @caughtexception;

     label03:
        virtualinvoke r4.<java.io.InputStream: void close()>();

     label04:
        goto label06;

     label05:
        $r11 := @caughtexception;

     label06:
        virtualinvoke r7.<java.io.OutputStream: void close()>();

     label07:
        goto label09;

     label08:
        $r10 := @caughtexception;

     label09:
        virtualinvoke r0.<org.springframework.remoting.caucho.BurlapExporter: void resetThreadContextClassLoader(java.lang.ClassLoader)>($r2);

        throw $r12;

     label10:
        virtualinvoke r4.<java.io.InputStream: void close()>();

     label11:
        goto label13;

     label12:
        $r9 := @caughtexception;

     label13:
        virtualinvoke r7.<java.io.OutputStream: void close()>();

     label14:
        goto label16;

     label15:
        $r8 := @caughtexception;

     label16:
        virtualinvoke r0.<org.springframework.remoting.caucho.BurlapExporter: void resetThreadContextClassLoader(java.lang.ClassLoader)>($r2);

        return;

        catch java.lang.Throwable from label01 to label02 with label02;
        catch java.io.IOException from label03 to label04 with label05;
        catch java.io.IOException from label06 to label07 with label08;
        catch java.io.IOException from label10 to label11 with label12;
        catch java.io.IOException from label13 to label14 with label15;
    }
}
